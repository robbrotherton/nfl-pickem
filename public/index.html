<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NFL Pick'em Sheet</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <div style="text-align: right; margin-bottom: 10px;">
            <button onclick="window.location.href='playoff-tree.html'" style="padding: 8px 16px; background: #6c757d; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;">ğŸ“Š Playoff Scenarios</button>
        </div>
        <h1>NFL Pick'em</h1>

        <!-- Player Management Modal -->
        <div id="playerModal" class="modal" onclick="closePlayerModal(event)">
            <div class="modal-content" onclick="event.stopPropagation()">
                <div class="modal-header">
                    <h3>Manage Players</h3>
                    <button onclick="closePlayerModal()" class="modal-close">âœ•</button>
                </div>
                
                <!-- Active Players Section -->
                <div id="activePlayersSection">
                    <h4 style="margin-top: 0; color: #666;">Players This Week</h4>
                    <div id="activePlayersList" class="active-players-list">
                        <!-- Populated dynamically -->
                    </div>
                </div>
                
                <hr style="margin: 20px 0; border: none; border-top: 1px solid #ddd;">
                
                <!-- Add Players Section -->
                <h4 style="color: #666;">Add Players</h4>
                <div id="playerList" class="player-list">
                    <!-- Populated dynamically -->
                </div>
                <div class="new-player-option" onclick="showNewPlayerInput()">
                    <strong>+ New Player</strong>
                </div>
                <div id="newPlayerInput" class="new-player-input" style="display: none;">
                    <input 
                        type="text" 
                        id="newPlayerName" 
                        placeholder="Enter name..."
                        onkeypress="if(event.key==='Enter') addNewPlayer()"
                    >
                    <button onclick="addNewPlayer()">Add</button>
                    <button onclick="cancelNewPlayer()">Cancel</button>
                </div>
            </div>
        </div>

        <div class="view-selector">
            <button onclick="loadSchedule()" class="view-btn" id="picksViewBtn" title="Weekly Picks">ğŸˆ Picks</button>
            <button onclick="showLeaderboard()" class="view-btn" id="leaderboardViewBtn" title="Season Leaderboard">ğŸ† Leaderboard</button>
        </div>

        <div class="week-title-row">
            <button onclick="changeWeek(-1)" class="nav-arrow-btn">Â«</button>
            <div class="week-title">
                <select id="weekSelectTitle" onchange="loadSchedule()" class="week-dropdown">
                </select>
            </div>
            <button onclick="changeWeek(1)" class="nav-arrow-btn">Â»</button>
            <div class="week-title">
                <select id="seasonSelect" onchange="changeSeason()" class="season-dropdown">
                    <!-- Populated dynamically -->
                </select>
                <span> Season</span>
            </div>
            <button id="adminModeIndicator" onclick="exitAdminMode()" class="admin-indicator icon-btn" title="Exit Admin Mode" style="display: none;">ğŸ”“</button>
            <button onclick="showPlayerModal()" class="icon-btn" title="Manage Players">ğŸ‘¥</button>
            <button onclick="window.print()" class="print-btn icon-btn" title="Print">ğŸ–¨ï¸</button>
        </div>

        <div id="content">
            <div class="loading">Loading schedule...</div>
        </div>
        <!-- Game History Modal -->
        <div id="gameHistoryModal" class="modal" onclick="closeGameHistoryModal(event)">
            <div class="modal-content" onclick="event.stopPropagation()">
                <div class="modal-header">
                    <h3 id="gameHistoryTitle">Game Histories</h3>
                    <button onclick="closeGameHistoryModal()" class="modal-close">âœ•</button>
                </div>
                <div id="gameHistoryBody">
                    <!-- Populated dynamically -->
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
